---
title: "First Http"
date: 2020-11-03T23:02:21+08:00
draft: false
---
# 初识HTTP

> HTTP是TCP/IP协议族的一个成员。

## TCP/IP

### 内容

1. 应用层
    -应用层决定了向用户提供应用服务时通信的活动。
2. 传输层  

    - 传输层对接应用层，提供处于网络连接中的两台计算机之间的数据传输。  
    - TCP协议就是处于该层，TCP协议将请求报文依据字节流服务将请求报文切分成有序号的很多段，也可以将多个请求报文段按序号排列成正常的报文。  
    - 响应时一样的操作。
3. 网络层  

    - 网络层处理在网络上流动的数据包，数据包是网络传输的最小数据单位。  
    - IP协议处于该层，依据ARP协议通过请求方的IP地址解析出对应的MAC地址，然后去寻找目标地址的MAC地址，中间会路过其他MAC地址，直到最后找到请求的域名对应的MAC地址，期间在寻找下一站MAC地址的同时还会将报文段进行传输。  
    - 同时在响应时，也是将相应报文这般响应回去的。
4. 链路层
    - 链路层就是硬件控制

> 利用TCP/IP协议族进行网络通信时，会通过分层顺序与对方进行通信。事后补个图片！

## IP、TCP、DNS

### IP

> IP协议位于网络层，作用就是把各种数据包传递给对方，并且确保数据传送给了对方。  
两个需要理解的点：IP地址、MAC地址  

- IP间的通信是依赖于MAC地址的
- ARP协议：用来解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址。

### TCP

> TCP协议位于传输层，提供可靠的字节流服务  

- 字节流服务：为了方便传输，将大块数据分割成 以报文段为单位的数据包进行管理。  
    _如果一次性传输大数据，一旦传输错误，就必须全部重新发送，而分割成小数据包，传输错误了只需要重新传输这个数据包，而不是全部重新传。_  
- 三次握手:第一次A发送带有SYN（flag）的数据包给对方B，第二次B回传一个带有SYN/ACK的数据包给A表示B确认受到信息，第三次A再回传一个带ACK的数据包给B表示握手结束（TCP的可靠性）  

> 在握手过程中，如果某个阶段莫名中断，TCP协议会再次以相同的顺序发送相同的数据包

### DNS

> 位于应用层的协议，提供域名到IP地址之间的解析服务
说透彻点就是，人比较习惯使用域名访问，但是计算机更习惯使用数字IP地址访问，所以有DNS来将这个域名解析成IP地址，或者IP地址反差域名.

## HTTP

### 属性

> 无状态 —— 不保存状态  
&ensp;&ensp;&ensp;&ensp;意思就是发送方请求一次，服务器端响应一次，有问就有答；协议本身不会保留之前一切的请求或响应报文的信息。

### HTTP方法

1. GET  —— 请求资源
    - 请求文本资源，资源保持原样返回
    - 某种程序，返回经过执行后的输出结果
2. POST —— 传输实体主体
3. HEAD —— 获得报文首部
4. PUT
5. DELETE
6. OPTIONS
7. TRACE
8. CONNECT

### 持久连接

> 每次请求都会建立连接、请求、响应、断开连接，这种行为无端的增加了通信量的开销；所以延伸出了持久连接的概念  
&ensp;&ensp;&ensp;&ensp;可理解为在建立连接后，请求和响应全部结束后，再断开TCP连接，这种概念就是持久连接，这种方式减少了通信开销，减少了服务器压力（负载）。  
&ensp;&ensp;&ensp;&ensp;在持久连接的基础上，又有一种称为管线化的技术，简单理解为管线化技术可以让请求一次性请求完，然后再进行响应，这样又可以提高效率，让请求更快结束

### Cookie

>先声明，cookie是由服务器端创建，保存在客户端的。  

<br>

由于HTTP是无状态协议，不保存请求和响应之间的通信状态，所以在遇到需要保持登录状态的情况下请求其他资源时，就不能满足需要了，引申出了“Cookie”,cookie的创建是服务器端通过Set-Cookie的首部字段通知客户端保存Cookie。在作其他请求时就会自动携带。

