---
title: "Second Http"
date: 2020-11-03T23:00:27+08:00
draft: false
---
# 再读HTTP

## HTTP报文

> 报文分两部分：报文首部 + 报文主体

1.请求报文  

- 请求行 + 首部字段 + 空行

- 请求行：请求方法 + URL + HTTP版本

2.响应报文

- 状态行 + 首部字段 + 空行 + 报文主体

- 状态行 + 状态码 + 原因短语

### 报文编码

> 报文编码可以提高请求或响应的速率

- 报文：8位字节流组成，HTTP通信传输

- 实体：

  1. 报文传输时，进行了编码操作的报主体文等价于实体主体  
  2. 经过编码操作的报文主体就是实体主体编码后的结果

> 压缩传输 gzip、defate  
分块传输

### Range reques 范围请求

> 在正常情况下，TCP是可靠的，可以做到部分报文块传输失败重新传输（传输层）等，但是在外力作用下，例如断网，关机等行为，导致从此TCP断开连接，那么就需要重新全部传输，而不是部分报文块了  

<br>

范围请求：一种可恢复的机制，能够从之前下在中断出恢复下载，常见的百度王盘下载

### 内容协商 
1.服务器驱动协商
2.客户端驱动协商
3.透明协商

### 状态码

1. 1xx 请求处理中
2. 2xx 请求处理成功
3. 3xx 重定向
4. 4xx 请求的url/参数等有误
5. 5xx 服务器段崩溃

